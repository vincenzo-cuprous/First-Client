<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link
            rel="icon"
            href="https://i.ibb.co/xfkKrfL/Whats-App-Image-2024-10-23-at-1-18-04-PM-removebg-preview.png"
            type="image/x-icon"
        />
        <title>J.I.R.C - Books</title>
        <link rel="stylesheet" href="book_style.css" />
        <style>
            #backgroundCanvas {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                z-index: -1;
            }
        </style>
    </head>
    <body>
        <header>
            <div class="container">
                <nav>
                    <div class="logo">
                        <img
                            src="https://i.ibb.co/xfkKrfL/Whats-App-Image-2024-10-23-at-1-18-04-PM-removebg-preview.png"
                            alt="JIC Logo"
                            class="logo-img"
                        />
                        <span class="logo-text">Islamic Books</span>
                    </div>
                    <div class="search-bar">
                        <input
                            type="text"
                            id="searchInput"
                            placeholder="Search books..."
                            aria-label="Search books"
                        />
                        <button id="searchButton">
                            <span class="sr-only">Search</span>
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                width="24"
                                height="24"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                class="feather feather-search"
                            >
                                <circle cx="11" cy="11" r="8"></circle>
                                <line
                                    x1="21"
                                    y1="21"
                                    x2="16.65"
                                    y2="16.65"
                                ></line>
                            </svg>
                        </button>
                    </div>
                    <button
                        class="menu-toggle"
                        aria-label="Toggle navigation menu"
                    >
                        â˜°
                    </button>
                    <div class="nav-links">
                        <a href="index.html" class="nav-link">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                width="24"
                                height="24"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                class="feather feather-home"
                            >
                                <path
                                    d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"
                                ></path>
                                <polyline
                                    points="9 22 9 12 15 12 15 22"
                                ></polyline>
                            </svg>
                            <span>Home</span>
                        </a>
                        <a href="#" id="adminLink" class="nav-link">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                width="24"
                                height="24"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                class="feather feather-settings"
                            >
                                <circle cx="12" cy="12" r="3"></circle>
                                <path
                                    d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"
                                ></path>
                            </svg>
                            <span>Books Admin</span>
                        </a>
                    </div>
                </nav>
            </div>
        </header>

        <main>
            <div class="container">
                <div class="books-grid" id="booksGrid"></div>
            </div>
        </main>

        <div class="preview-overlay" id="previewOverlay">
            <div class="preview-content">
                <button class="close-preview" aria-label="Close preview">
                    &times;
                </button>
                <img src="" alt="" class="preview-image" id="previewImage" />
                <h2 class="preview-title" id="previewTitle"></h2>
                <p class="preview-author" id="previewAuthor"></p>
                <p class="preview-description" id="previewDescription"></p>
                <a
                    href="#"
                    class="download-btn btn-icon"
                    id="downloadBtn"
                    download
                >
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        class="feather feather-download"
                    >
                        <path
                            d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"
                        ></path>
                        <polyline points="7 10 12 15 17 10"></polyline>
                        <line x1="12" y1="15" x2="12" y2="3"></line>
                    </svg>
                    Preview Or Download
                </a>
                <div class="comment-section">
                    <h3>Comments</h3>
                    <form class="comment-form" id="commentForm">
                        <div class="input-icon">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                width="24"
                                height="24"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                class="feather feather-user"
                            >
                                <path
                                    d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"
                                ></path>
                                <circle cx="12" cy="7" r="4"></circle>
                            </svg>
                            <input
                                type="text"
                                id="commentName"
                                placeholder="Your Name"
                                required
                            />
                        </div>
                        <div class="input-icon">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                width="24"
                                height="24"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                class="feather feather-message-square"
                            >
                                <path
                                    d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"
                                ></path>
                            </svg>
                            <textarea
                                id="commentText"
                                placeholder="Your Comment"
                                required
                            ></textarea>
                        </div>
                        <button type="submit" class="btn-icon">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                width="24"
                                height="24"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                class="feather feather-send"
                            >
                                <line x1="22" y1="2" x2="11" y2="13"></line>
                                <polygon
                                    points="22 2 15 22 11 13 2 9 22 2"
                                ></polygon>
                            </svg>
                            Submit Comment
                        </button>
                    </form>
                    <ul class="comments-list" id="commentsList"></ul>
                </div>
            </div>
        </div>

        <div class="admin-overlay" id="adminOverlay">
            <div class="admin-content">
                <h2>Books Admin</h2>
                <div id="loginForm">
                    <form class="admin-form input-icon">
                        <div class="input-icon">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                            >
                                <path
                                    d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"
                                ></path>
                                <circle cx="12" cy="7" r="4"></circle>
                            </svg>
                            <input
                                type="text"
                                id="username"
                                placeholder="Username"
                                required
                            />
                        </div>
                        <div class="input-icon">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                            >
                                <rect
                                    x="3"
                                    y="11"
                                    width="18"
                                    height="11"
                                    rx="2"
                                    ry="2"
                                ></rect>
                                <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                            </svg>
                            <input
                                type="password"
                                id="password"
                                placeholder="Password"
                                required
                            />
                        </div>
                        <button type="submit" class="btn-icon" id="login-btn">
                            Login
                        </button>
                    </form>
                </div>
                <div id="adminPanel" style="display: none">
                    <!-- Add this inside the admin panel div -->
                    <h3>Backup and Restore</h3>
                    <div class="backup-restore">
                        <div class="backup-restore">
                            <button id="backupBtn" class="icon-btn">
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    width="24"
                                    height="24"
                                    viewBox="0 0 24 24"
                                    fill="none"
                                    stroke="currentColor"
                                    stroke-width="2"
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    class="feather feather-download"
                                >
                                    <path
                                        d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"
                                    ></path>
                                    <polyline
                                        points="7 10 12 15 17 10"
                                    ></polyline>
                                    <line x1="12" y1="15" x2="12" y2="3"></line>
                                </svg>
                                <span>Backup Books Data</span>
                            </button>
                            <button id="restoreBtn" class="icon-btn">
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    width="24"
                                    height="24"
                                    viewBox="0 0 24 24"
                                    fill="none"
                                    stroke="currentColor"
                                    stroke-width="2"
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    class="feather feather-upload"
                                >
                                    <path
                                        d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"
                                    ></path>
                                    <polyline points="17 8 12 3 7 8"></polyline>
                                    <line x1="12" y1="3" x2="12" y2="15"></line>
                                </svg>
                                <span>Restore Books Data</span>
                            </button>
                        </div>

                        <input
                            type="file"
                            id="restoreFile"
                            accept=".json"
                            style="display: none"
                        />
                    </div>
                    <h3>Add/Edit Book</h3>
                    <form class="admin-form" id="bookForm">
                        <input
                            type="text"
                            id="bookTitle"
                            placeholder="Title"
                            required
                        />
                        <input
                            type="text"
                            id="bookAuthor"
                            placeholder="Author"
                            required
                        />
                        <input
                            type="url"
                            id="bookImage"
                            placeholder="Image URL"
                            required
                        />
                        <input
                            type="url"
                            id="bookDownload"
                            placeholder="Download URL"
                            required
                        />
                        <textarea
                            id="bookDescription"
                            placeholder="Description"
                            required
                        ></textarea>
                        <button type="submit" class="icon-btn">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                width="24"
                                height="24"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                class="feather feather-plus-circle"
                            >
                                <circle cx="12" cy="12" r="10"></circle>
                                <line x1="12" y1="8" x2="12" y2="16"></line>
                                <line x1="8" y1="12" x2="16" y2="12"></line>
                            </svg>
                            <span>Add/Update Book</span>
                        </button>
                    </form>
                    <div class="admin-books" id="adminBooks"></div>
                    <h3>Comment Management</h3>
                    <div id="adminComments"></div>
                    <h3 style="display: none">User Settings</h3>
                    <form
                        style="display: none"
                        class="admin-form"
                        id="userSettingsForm"
                    >
                        <input
                            type="text"
                            id="newUsername"
                            placeholder="New Username"
                        />
                        <input
                            type="password"
                            id="newPassword"
                            placeholder="New Password"
                        />
                        <button type="submit" class="icon-btn">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                width="24"
                                height="24"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                class="feather feather-save"
                            >
                                <path
                                    d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"
                                ></path>
                                <polyline
                                    points="17 21 17 13 7 13 7 21"
                                ></polyline>
                                <polyline points="7 3 7 8 15 8"></polyline>
                            </svg>
                            <span>Update Settings</span>
                        </button>
                    </form>
                    <button id="logoutBtn" class="logout-btn">
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="24"
                            height="24"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            class="feather feather-log-out"
                        >
                            <path
                                d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"
                            ></path>
                            <polyline points="16 17 21 12 16 7"></polyline>
                            <line x1="21" y1="12" x2="9" y2="12"></line>
                        </svg>
                        <span>Logout</span>
                    </button>
                </div>
            </div>
        </div>
        <canvas id="backgroundCanvas"></canvas>
        <footer>
            <div class="container">
                <p>
                    &copy; 2024 Jamshaid Research Islamic Center. All rights
                    reserved.
                </p>
            </div>
        </footer>

        <script src="books_script.js" defer></script>
        <script>
            // Smooth scrolling function
            function scrollToTop() {
                window.scrollTo({
                    top: 0,
                    behavior: "smooth",
                });
            }

            // Canvas animation
            const canvas = document.getElementById("backgroundCanvas");
            const ctx = canvas.getContext("2d");

            // Set canvas size
            function resizeCanvas() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            }

            // Create particles
            const particles = [];
            const particleCount = 50;

            function createParticles() {
                for (let i = 0; i < particleCount; i++) {
                    particles.push({
                        x: Math.random() * canvas.width,
                        y: Math.random() * canvas.height,
                        radius: Math.random() * 3 + 1,
                        dx: (Math.random() - 0.5) * 2,
                        dy: (Math.random() - 0.5) * 2,
                    });
                }
            }

            // Draw particles
            function drawParticles() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                ctx.fillStyle = "rgba(108, 99, 255, 0.5)";

                particles.forEach((particle) => {
                    ctx.beginPath();
                    ctx.arc(
                        particle.x,
                        particle.y,
                        particle.radius,
                        0,
                        Math.PI * 2,
                    );
                    ctx.fill();

                    // Move particles
                    particle.x += particle.dx;
                    particle.y += particle.dy;

                    // Bounce off edges
                    if (particle.x < 0 || particle.x > canvas.width)
                        particle.dx *= -1;
                    if (particle.y < 0 || particle.y > canvas.height)
                        particle.dy *= -1;
                });

                requestAnimationFrame(drawParticles);
            }

            // Initialize canvas
            window.addEventListener("resize", resizeCanvas);
            resizeCanvas();
            createParticles();
            drawParticles();
        </script>
    </body>
</html>
